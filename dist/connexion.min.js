"format amd";!function(global){function register(name,deps,declare){return 4===arguments.length?registerDynamic.apply(this,arguments):void doRegister(name,{declarative:!0,deps:deps,declare:declare})}function registerDynamic(name,deps,executingRequire,execute){doRegister(name,{declarative:!1,deps:deps,executingRequire:executingRequire,execute:execute})}function doRegister(name,entry){entry.name=name,name in defined||(defined[name]=entry),entry.normalizedDeps=entry.deps}function buildGroups(entry,groups){if(groups[entry.groupIndex]=groups[entry.groupIndex]||[],-1==indexOf.call(groups[entry.groupIndex],entry)){groups[entry.groupIndex].push(entry);for(var i=0,l=entry.normalizedDeps.length;l>i;i++){var depName=entry.normalizedDeps[i],depEntry=defined[depName];if(depEntry&&!depEntry.evaluated){var depGroupIndex=entry.groupIndex+(depEntry.declarative!=entry.declarative);if(void 0===depEntry.groupIndex||depEntry.groupIndex<depGroupIndex){if(void 0!==depEntry.groupIndex&&(groups[depEntry.groupIndex].splice(indexOf.call(groups[depEntry.groupIndex],depEntry),1),0==groups[depEntry.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");depEntry.groupIndex=depGroupIndex}buildGroups(depEntry,groups)}}}}function link(name){var startEntry=defined[name];startEntry.groupIndex=0;var groups=[];buildGroups(startEntry,groups);for(var curGroupDeclarative=!!startEntry.declarative==groups.length%2,i=groups.length-1;i>=0;i--){for(var group=groups[i],j=0;j<group.length;j++){var entry=group[j];curGroupDeclarative?linkDeclarativeModule(entry):linkDynamicModule(entry)}curGroupDeclarative=!curGroupDeclarative}}function getOrCreateModuleRecord(name){return moduleRecords[name]||(moduleRecords[name]={name:name,dependencies:[],exports:{},importers:[]})}function linkDeclarativeModule(entry){if(!entry.module){var module=entry.module=getOrCreateModuleRecord(entry.name),exports=entry.module.exports,declaration=entry.declare.call(global,function(name,value){if(module.locked=!0,"object"==typeof name)for(var p in name)exports[p]=name[p];else exports[name]=value;for(var i=0,l=module.importers.length;l>i;i++){var importerModule=module.importers[i];if(!importerModule.locked)for(var j=0;j<importerModule.dependencies.length;++j)importerModule.dependencies[j]===module&&importerModule.setters[j](exports)}return module.locked=!1,value},entry.name);module.setters=declaration.setters,module.execute=declaration.execute;for(var i=0,l=entry.normalizedDeps.length;l>i;i++){var depExports,depName=entry.normalizedDeps[i],depEntry=defined[depName],depModule=moduleRecords[depName];depModule?depExports=depModule.exports:depEntry&&!depEntry.declarative?depExports=depEntry.esModule:depEntry?(linkDeclarativeModule(depEntry),depModule=depEntry.module,depExports=depModule.exports):depExports=load(depName),depModule&&depModule.importers?(depModule.importers.push(module),module.dependencies.push(depModule)):module.dependencies.push(null),module.setters[i]&&module.setters[i](depExports)}}}function getModule(name){var exports,entry=defined[name];if(entry)entry.declarative?ensureEvaluated(name,[]):entry.evaluated||linkDynamicModule(entry),exports=entry.module.exports;else if(exports=load(name),!exports)throw new Error("Unable to load dependency "+name+".");return(!entry||entry.declarative)&&exports&&exports.__useDefault?exports["default"]:exports}function linkDynamicModule(entry){if(!entry.module){var exports={},module=entry.module={exports:exports,id:entry.name};if(!entry.executingRequire)for(var i=0,l=entry.normalizedDeps.length;l>i;i++){var depName=entry.normalizedDeps[i],depEntry=defined[depName];depEntry&&linkDynamicModule(depEntry)}entry.evaluated=!0;var output=entry.execute.call(global,function(name){for(var i=0,l=entry.deps.length;l>i;i++)if(entry.deps[i]==name)return getModule(entry.normalizedDeps[i]);throw new TypeError("Module "+name+" not declared as a dependency.")},exports,module);if(output&&(module.exports=output),exports=module.exports,exports&&exports.__esModule)entry.esModule=exports;else{if(entry.esModule={},("object"==typeof exports||"function"==typeof exports)&&exports!==global)if(getOwnPropertyDescriptor){var d;for(var p in exports)(d=Object.getOwnPropertyDescriptor(exports,p))&&defineProperty(entry.esModule,p,d)}else{var hasOwnProperty=exports&&exports.hasOwnProperty;for(var p in exports)hasOwnProperty&&!exports.hasOwnProperty(p)||(entry.esModule[p]=exports[p])}entry.esModule["default"]=exports,defineProperty(entry.esModule,"__useDefault",{value:!0})}}}function ensureEvaluated(moduleName,seen){var entry=defined[moduleName];if(entry&&!entry.evaluated&&entry.declarative){seen.push(moduleName);for(var i=0,l=entry.normalizedDeps.length;l>i;i++){var depName=entry.normalizedDeps[i];-1==indexOf.call(seen,depName)&&(defined[depName]?ensureEvaluated(depName,seen):load(depName))}entry.evaluated||(entry.evaluated=!0,entry.module.execute.call(global))}}function load(name){if(modules[name])return modules[name];if("@node/"==name.substr(0,6))return require(name.substr(6));var entry=defined[name];if(!entry)throw"Module "+name+" not present.";return link(name),ensureEvaluated(name,[]),defined[name]=void 0,entry.declarative&&defineProperty(entry.module.exports,"__esModule",{value:!0}),modules[name]=entry.declarative?entry.module.exports:entry.esModule}var defined={},indexOf=Array.prototype.indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(this[i]===item)return i;return-1},getOwnPropertyDescriptor=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(e){getOwnPropertyDescriptor=!1}var defineProperty;!function(){try{Object.defineProperty({},"a",{})&&(defineProperty=Object.defineProperty)}catch(e){defineProperty=function(obj,prop,opt){try{obj[prop]=opt.value||opt.get.call(obj)}catch(e){}}}}();var moduleRecords={},modules={};return function(mains,depNames,declare){return function(formatDetect){formatDetect(function(deps){var System={_nodeRequire:"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,register:register,registerDynamic:registerDynamic,get:load,set:function(name,module){modules[name]=module},newModule:function(module){return module}};System.set("@empty",{});for(var i=0;i<depNames.length;i++)(function(depName,dep){dep&&dep.__esModule?System.register(depName,[],function(_export){return{setters:[],execute:function(){for(var p in dep)"__esModule"==p||"object"==typeof p&&p+""=="Module"||_export(p,dep[p])}}}):System.registerDynamic(depName,[],!1,function(){return dep})})(depNames[i],arguments[i]);declare(System);var firstLoad=load(mains[0]);if(mains.length>1)for(var i=1;i<mains.length;i++)load(mains[i]);return firstLoad.__useDefault?firstLoad["default"]:firstLoad})}}}("undefined"!=typeof self?self:global)(["1"],[],function($__System){!function(__global){function readMemberExpression(p,value){for(var pParts=p.split(".");pParts.length;)value=value[pParts.shift()];return value}function forEachGlobal(callback){if(Object.keys)Object.keys(__global).forEach(callback);else for(var g in __global)hasOwnProperty.call(__global,g)&&callback(g)}function forEachGlobalValue(callback){forEachGlobal(function(globalName){if(-1==indexOf.call(ignoredGlobalProps,globalName)){try{var value=__global[globalName]}catch(e){ignoredGlobalProps.push(globalName)}callback(globalName,value)}})}var globalSnapshot,loader=$__System,hasOwnProperty=Object.prototype.hasOwnProperty,indexOf=Array.prototype.indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(this[i]===item)return i;return-1},ignoredGlobalProps=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","webkitStorageInfo","webkitIndexedDB"];loader.set("@@global-helpers",loader.newModule({prepareGlobal:function(moduleName,exportName,globals){var curDefine=__global.define;__global.define=void 0,__global.exports=void 0,__global.module&&__global.module.exports&&(__global.module=void 0);var oldGlobals;if(globals){oldGlobals={};for(var g in globals)oldGlobals[g]=__global[g],__global[g]=globals[g]}return exportName||(globalSnapshot={},forEachGlobalValue(function(name,value){globalSnapshot[name]=value})),function(){var globalValue;if(exportName)globalValue=readMemberExpression(exportName,__global);else{var singleGlobal,multipleExports,exports={};forEachGlobalValue(function(name,value){globalSnapshot[name]!==value&&"undefined"!=typeof value&&(exports[name]=value,"undefined"!=typeof singleGlobal?multipleExports||singleGlobal===value||(multipleExports=!0):singleGlobal=value)}),globalValue=multipleExports?exports:singleGlobal}if(oldGlobals)for(var g in oldGlobals)__global[g]=oldGlobals[g];return __global.define=curDefine,globalValue}}}))}("undefined"!=typeof self?self:global),function(){var loader=$__System;if("undefined"!=typeof window&&"undefined"!=typeof document&&window.location)var windowOrigin=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");loader.set("@@cjs-helpers",loader.newModule({getPathVars:function(moduleId){var filename,pluginIndex=moduleId.lastIndexOf("!");filename=-1!=pluginIndex?moduleId.substr(0,pluginIndex):moduleId;var dirname=filename.split("/");return dirname.pop(),dirname=dirname.join("/"),"file:///"==filename.substr(0,8)?(filename=filename.substr(7),dirname=dirname.substr(7),isWindows&&(filename=filename.substr(1),dirname=dirname.substr(1))):windowOrigin&&filename.substr(0,windowOrigin.length)===windowOrigin&&(filename=filename.substr(windowOrigin.length),dirname=dirname.substr(windowOrigin.length)),{filename:filename,dirname:dirname}}}))}(),$__System.registerDynamic("2",["3","4","5"],!0,function($__require,exports,module){"use strict";var global=this,__define=global.define;global.define=void 0;var environment=$__require("3"),emitter=$__require("4"),ConnexionEvent=$__require("5"),channel=exports,eventKey=ConnexionEvent.key,emitterEmit=emitter.emit,globalScope=environment.global,isNodeJs=environment.isNodeJs,connextionMessageRegExp=/^__([A-Za-z]+?)__:/,whenGuiReady=new Promise(function(resolve){if(globalScope.process)var timerId=setInterval(function(){if(globalScope.window){clearInterval(timerId);var gui=globalScope.window.nwDispatcher.requireNwGui();resolve(gui)}},10)});return channel.getAllChildWindows=function(topWin){for(var win,wins=[],frames=topWin.frames,i=frames.length;i--;)win=frames[i],wins.push(win),wins=wins.concat(channel.getAllChildWindows(win));return wins},channel.getCurrentNWWindow=function(){return whenGuiReady.then(function(gui){return gui.Window.get()})},channel.sendMessage=function(connexionMessage){var browserWindow=globalScope.window||{},location=browserWindow.location,origin=location&&(location.origin||location.protocol+"//"+location.host)||"*",browserFrames=browserWindow.top&&[browserWindow.top].concat(channel.getAllChildWindows(browserWindow.top))||[];origin="*",isNodeJs?channel.getCurrentNWWindow().then(function(nwWindow){browserFrames.forEach(function(win){nwWindow.eval(win.frameElement||null,"window.postMessage('"+connexionMessage+"', \""+origin+'");')})}):browserFrames.forEach(function(win){try{win.postMessage(connexionMessage,origin)}catch(err){console.error(err,connexionMessage)}})},channel.sendEvent=function(event){var connexionMessage=channel._createEvent(event);channel.sendMessage(connexionMessage)},channel.sendSetup=function(setup){var connexionMessage=channel._createSetup(setup);channel.sendMessage(connexionMessage)},channel.sendSetupResponse=function(setup){var connexionMessage=channel._createSetupResponse(setup);channel.sendMessage(connexionMessage)},channel.onMessage=function(handler,messageType,once){var browserWindow=globalScope.window;browserWindow&&browserWindow.addEventListener&&browserWindow.addEventListener("message",function onMessagePosted(e){var connectionCretaria,connectionType,connectionMatch,data,isMessageEventWorking=this.MessageEvent&&this.MessageEvent.length,event=isMessageEventWorking?new this.MessageEvent("message",e):e,message=event.data;message&&"string"==typeof message&&(connectionMatch=message.match(connextionMessageRegExp),connectionMatch&&(connectionCretaria=connectionMatch[0],connectionType=connectionMatch[1],connectionType===messageType&&(data=JSON.parse(message.substr(connectionCretaria.length))))),data&&("key"in data&&data.key!==eventKey||data.length&&data[0].event.key!==eventKey)&&(once&&this.removeEventListener("message",onMessagePosted,!1),handler(data))},!1),browserWindow=void 0},channel.onEvent=function(handler){return channel.onMessage(function(event){event&&event.key!==eventKey&&handler(event)},"connexionEvent")},channel.onSetup=function(handler){return channel.onMessage(handler,"connexionSetup")},channel.onceSetupResponse=function(handler){return channel.onMessage(handler,"connexionSetupResponse",!0)},channel.invokeEvent=function(event){return emitterEmit.call(emitter,event)},channel._createEvent=function(event){return"__connexionEvent__:"+JSON.stringify(event)},channel._createSetup=function(setupData){return"__connexionSetup__:"+JSON.stringify([{event:{key:eventKey}}])},channel._createSetupResponse=function(setupData){return"__connexionSetupResponse__:"+JSON.stringify(setupData)},channel.getStreamsData=function(){var eventStreams=emitter.subjects,eventTypes=Object.keys(eventStreams);return eventTypes.map(function(eventType){var stream=eventStreams[eventType];return{name:eventType,event:stream.value}})},channel.setStreamsData=function(streamsData){var eventStreams=emitter.subjects;streamsData.forEach(function(data){var stream,streamValue,name=data.name,event=data.event;name&&"*"!==name&&event.timeStamp&&(name in eventStreams?(stream=eventStreams[name],streamValue=stream.value,event.timeStamp>streamValue.timeStamp&&channel.invokeEvent(event)):channel.invokeEvent(event))})},channel.attachMessageHandlers=function(){channel.onEvent(channel.invokeEvent),channel.onSetup(function(setup){channel.sendSetupResponse(channel.getStreamsData()),channel.setStreamsData(setup)}),channel.onceSetupResponse(channel.setStreamsData)},channel.sendSetup(channel.getStreamsData()),emitter.emit=function(type,detail){var event=emitterEmit.call(emitter,type,detail);return channel.sendEvent(event),event},isNodeJs?channel.getCurrentNWWindow().then(function(win){win.on("loaded",function(){var browserWindow=globalScope.window;browserWindow.__ConnexionNodeChannel||(browserWindow.__ConnexionNodeChannel=!0,channel.attachMessageHandlers())})}):channel.attachMessageHandlers(),global.define=__define,module.exports}),$__System.registerDynamic("6",[],!0,function($__require,exports,module){"use strict";var global=this,__define=global.define;global.define=void 0;var implementation,createTask,stack=[],ids={},idCounter=0,cancelTask=function(){};return"undefined"!=typeof Promise?(createTask=function(callback){new Promise(function(resolve,reject){implementation={reject:reject},resolve()}).then(callback)["catch"](function(err){console.error(err)})},cancelTask=function(){implementation.reject()}):(createTask=function(callback){implementation=setTimeout(callback,0)},cancelTask=function(){clearTimeout(implementation)}),exports.setAsync=function(taskFunc){if("function"==typeof taskFunc){var id=idCounter++;return ids[id]=taskFunc,stack.length?stack.push(taskFunc):(stack.push(taskFunc),createTask(function(){for(var task;stack.length;)(task=stack.shift())()})),id}},exports.clearAsync=function(id){if("number"==typeof id&&id in ids&&stack.length){for(var task,i=-1;++i in stack;)task=stack[i],task===ids[id]&&(stack.splice(i,1),delete ids[id]);stack.length||cancelTask()}},global.define=__define,module.exports}),$__System.registerDynamic("5",[],!0,function($__require,exports,module){"use strict";var global=this,__define=global.define;global.define=void 0;var ConnexionEvent=function(origin){this.emitter=origin&&origin.emitter||"",this.scope=origin&&origin.scope||"",this.isCanceled=!1,this.type=origin&&origin.type||"*",this.timeStamp=origin&&"timeStamp"in origin?origin.timeStamp:(new Date).getTime(),this.detail=origin&&origin.detail,this.detail=this.detail&&"object"==typeof this.detail?this.detail:{},this.key=ConnexionEvent.key};return ConnexionEvent.prototype.cancel=function(){this.isCanceled=!0},ConnexionEvent.key=Math.round(Math.random()*Math.pow(10,15)),module.exports=ConnexionEvent,global.define=__define,module.exports}),$__System.registerDynamic("3",[],!0,function($__require,exports,module){var global=this,__define=global.define;global.define=void 0;var $__pathVars=$__System.get("@@cjs-helpers").getPathVars(module.id),__dirname=($__pathVars.filename,$__pathVars.dirname);return function(self,nodeGlobal,browserWindow,undefined){"use strict";var window=self.window||browserWindow||{},location=(window.document||{},window.location||{}),global=nodeGlobal||("top"in window?window.top.global||{}:{}),isNodeJs="require"in global&&"process"in global&&"undefined"!=typeof __dirname&&global.global===global;exports.window=window,exports.global=global,exports.location=location,exports.isNodeJs=isNodeJs,exports.undefined=undefined}(this,"undefined"!=typeof global?global:null,"undefined"!=typeof window?window:null),global.define=__define,module.exports}),$__System.registerDynamic("7",[],!0,function($__require,exports,module){"use strict";var global=this,__define=global.define;global.define=void 0;var Observable=function(initialValue){this.value=initialValue,this.observers=[]};return Observable.prototype.emit=function(value){var i=-1,observers=this.observers;for(this.value=value;++i in observers;)observers[i](value);return this},Observable.prototype.listen=function(callback){return this.observers.push(callback),this},Observable.prototype.observe=function(callback){return this.observers.push(callback),callback(this.value),this},Observable.prototype.unsubscribe=function(callback){var index;if(void 0===callback)this.observers.length=0;else for(index=this.observers.indexOf(callback);~index;)this.observers.splice(index,1),index=this.observers.indexOf(callback);return this},module.exports=Observable,global.define=__define,module.exports}),$__System.registerDynamic("8",[],!1,function(__require,__exports,__module){var _retrieveGlobal=$__System.get("@@global-helpers").prepareGlobal(__module.id,null,null);return function(){!function(e){function f(a,c){function b(a){return this&&this.constructor===b?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=c,void(a&&v.call(this,a))):new b(a)}return c||w(a,"size",{get:x}),a.constructor=b,b.prototype=a,b}function v(a){this.add?a.forEach(this.add,this):a.forEach(function(a){this.set(a[0],a[1])},this)}function d(a){return this.has(a)&&(this._keys.splice(b,1),this._values.splice(b,1),this._itp.forEach(function(a){b<a[0]&&a[0]--})),b>-1}function m(a){return this.has(a)?this._values[b]:void 0}function n(a,c){if(this.objectOnly&&c!==Object(c))throw new TypeError("Invalid value used as weak collection key");if(c!=c||0===c)for(b=a.length;b--&&!y(a[b],c););else b=a.indexOf(c);return b>-1}function p(a){return n.call(this,this._values,a)}function q(a){return n.call(this,this._keys,a)}function r(a,c){return this.has(a)?this._values[b]=c:this._values[this._keys.push(a)-1]=c,this}function t(a){return this.has(a)||this._values.push(a),this}function h(){(this._keys||0).length=this._values.length=0}function z(){return k(this._itp,this._keys)}function l(){return k(this._itp,this._values)}function A(){return k(this._itp,this._keys,this._values)}function B(){return k(this._itp,this._values,this._values)}function k(a,c,b){var g=[0],e=!1;return a.push(g),{next:function(){var f,d=g[0];return!e&&d<c.length?(f=b?[c[d],b[d]]:c[d],g[0]++):(e=!0,a.splice(a.indexOf(g),1)),{done:e,value:f}}}}function x(){return this._values.length}function u(a,c){for(var b=this.entries();;){var d=b.next();if(d.done)break;a.call(c,d.value[1],d.value[0],this)}}var b,w=Object.defineProperty,y=function(a,b){return isNaN(a)?isNaN(b):a===b};"undefined"==typeof WeakMap&&(e.WeakMap=f({"delete":d,clear:h,get:m,has:q,set:r},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(e.Map=f({"delete":d,has:q,get:m,set:r,keys:z,values:l,entries:A,forEach:u,clear:h})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(e.Set=f({has:p,add:t,"delete":d,clear:h,keys:l,values:l,entries:B,forEach:u})),"undefined"==typeof WeakSet&&(e.WeakSet=f({"delete":d,add:t,clear:h,has:p},!0))}("undefined"!=typeof exports&&"undefined"!=typeof global?global:window)}(),_retrieveGlobal()}),$__System.registerDynamic("4",["6","5","3","7","8"],!0,function($__require,exports,module){"use strict";function createObserver(callback){var observer=function(event){event.isCanceled||callback(event.detail,event)};return observer.callback=callback,observer}var global=this,__define=global.define;global.define=void 0;var setAsyncTask=$__require("6").setAsync,ConnexionEvent=$__require("5"),environment=$__require("3"),Observable=$__require("7"),es6collections=$__require("8"),WeakMap=es6collections.WeakMap||environment.global.WeakMap,isNodeJs=environment.isNodeJs,Emitter=function(){this.subjects=Object.create(null),this.subscriptions=Object.create(null)};return Emitter.prototype._ensureSubjectExists=function(name){var subject=this.subjects[name];return subject||(subject=new Observable(new ConnexionEvent({type:name,timeStamp:0})),this.subscriptions[name]=new WeakMap,this.subjects[name]=subject),subject},Emitter.prototype._ensureSubjectDestroyed=function(name){var subject=this.subjects[name];return subject&&(this.subscriptions[name]=void 0,this.subjects[name]=void 0),subject},Emitter.prototype.emit=function(eventType,detail){var subject,commonSubject,event,eventData=eventType;return"string"==typeof eventType||eventType instanceof String?event=new ConnexionEvent({type:eventType,detail:detail,scope:isNodeJs?"nodejs":"window",emitter:isNodeJs?"nodejs":environment.global.name||""}):"object"!=typeof eventData||eventData instanceof Array||(event=new ConnexionEvent(eventData),eventType=event.type),subject=this._ensureSubjectExists(eventType),commonSubject=this._ensureSubjectExists("*"),setAsyncTask(subject.emit.bind(subject,event)),"*"!==eventType&&setAsyncTask(commonSubject.emit.bind(commonSubject,event)),event},Emitter.prototype.listen=function(eventType,handler){var listeners,subject,observer,observers;if("object"==typeof eventType&&eventType){listeners=eventType;for(eventType in listeners)this.listen(eventType,listeners[eventType])}else eventType&&handler&&(subject=this._ensureSubjectExists(eventType),observer=createObserver(handler),subject.listen(observer),observers=this.subscriptions[eventType].get(handler)||[],observers.push(observer),this.subscriptions[eventType].set(handler,observers));return observer},Emitter.prototype.observe=function(eventType,handler){var listeners,subject,observer,observers;if("object"==typeof eventType&&eventType){listeners=eventType;for(eventType in listeners)this.observe(eventType,listeners[eventType])}else eventType&&handler&&(subject=this._ensureSubjectExists(eventType),observer=createObserver(handler),subject.observe(observer),observers=this.subscriptions[eventType].get(handler)||[],observers.push(observer),this.subscriptions[eventType].set(handler,observers));return observer},Emitter.prototype.unsubscribe=function(eventType,handler){var listeners,subject,subjects,observer,observers,i;if(eventType||handler){if("object"==typeof eventType&&eventType){listeners=eventType;for(eventType in listeners)this.unsubscribe(eventType,listeners[eventType])}else if(eventType&&!handler)subject=this.subjects[eventType],subject&&(subject.unsubscribe(),this._ensureSubjectDestroyed(eventType));else if(eventType&&handler&&(subject=this.subjects[eventType],listeners=this.subscriptions[eventType]))if("callback"in handler)observer=handler,handler=observer.callback,subject.unsubscribe(observer),observer.callback=void 0,observers=listeners.get(handler),observers&&(i=observers.indexOf(observer),~index&&observers.splice(i,1));else if(observers=listeners.get(handler)){for(i=-1;++i in observers;)observer=observers[i],setAsyncTask(subject.unsubscribe.bind(subject,observer)),observer.callback=void 0;listeners["delete"](handler)}}else{subjects=this.subjects;for(eventType in subjects)this.unsubscribe(eventType)}return this},module.exports=new Emitter,global.define=__define,module.exports}),$__System.registerDynamic("1",["2","3","4"],!0,function($__require,exports,module){"use strict";var global=this,__define=global.define;global.define=void 0;var connexion=exports;connexion.version="0.4.0",connexion.chanel=$__require("2");var DOMWindow=$__require("3").window,emitter=$__require("4");return connexion.listen=function(type,handler){return emitter.listen(type,handler),this},connexion.observe=function(type,handler){return emitter.observe(type,handler),this},connexion.unsubscribe=function(type,handler){return emitter.unsubscribe(type,handler),this},connexion.emit=function(type,detail){return emitter.emit(type,detail),this},DOMWindow.connexion=connexion,global.define=__define,module.exports})})(function(factory){"function"==typeof define&&define.amd?define([],factory):factory()});
//# sourceMappingURL=connexion.min.js.map